var H,$;function M(){if($)return H;$=1;var O=String.prototype.replace,b=/%20/g,g={RFC1738:"RFC1738",RFC3986:"RFC3986"};return H={default:g.RFC3986,formatters:{RFC1738:function(s){return O.call(s,b,"+")},RFC3986:function(s){return String(s)}},RFC1738:g.RFC1738,RFC3986:g.RFC3986},H}var q,G;function Z(){if(G)return q;G=1;var O=M(),b=Object.prototype.hasOwnProperty,g=Array.isArray,s=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),x=function(r){for(;r.length>1;){var n=r.pop(),t=n.obj[n.prop];if(g(t)){for(var f=[],i=0;i<t.length;++i)typeof t[i]<"u"&&f.push(t[i]);n.obj[n.prop]=f}}},S=function(r,n){for(var t=n&&n.plainObjects?Object.create(null):{},f=0;f<r.length;++f)typeof r[f]<"u"&&(t[f]=r[f]);return t},E=function e(r,n,t){if(!n)return r;if(typeof n!="object"){if(g(r))r.push(n);else if(r&&typeof r=="object")(t&&(t.plainObjects||t.allowPrototypes)||!b.call(Object.prototype,n))&&(r[n]=!0);else return[r,n];return r}if(!r||typeof r!="object")return[r].concat(n);var f=r;return g(r)&&!g(n)&&(f=S(r,t)),g(r)&&g(n)?(n.forEach(function(i,l){if(b.call(r,l)){var c=r[l];c&&typeof c=="object"&&i&&typeof i=="object"?r[l]=e(c,i,t):r.push(i)}else r[l]=i}),r):Object.keys(n).reduce(function(i,l){var c=n[l];return b.call(i,l)?i[l]=e(i[l],c,t):i[l]=c,i},f)},w=function(r,n){return Object.keys(n).reduce(function(t,f){return t[f]=n[f],t},r)},P=function(e,r,n){var t=e.replace(/\+/g," ");if(n==="iso-8859-1")return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch{return t}},F=function(r,n,t,f,i){if(r.length===0)return r;var l=r;if(typeof r=="symbol"?l=Symbol.prototype.toString.call(r):typeof r!="string"&&(l=String(r)),t==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var c="",y=0;y<l.length;++y){var o=l.charCodeAt(y);if(o===45||o===46||o===95||o===126||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122||i===O.RFC1738&&(o===40||o===41)){c+=l.charAt(y);continue}if(o<128){c=c+s[o];continue}if(o<2048){c=c+(s[192|o>>6]+s[128|o&63]);continue}if(o<55296||o>=57344){c=c+(s[224|o>>12]+s[128|o>>6&63]+s[128|o&63]);continue}y+=1,o=65536+((o&1023)<<10|l.charCodeAt(y)&1023),c+=s[240|o>>18]+s[128|o>>12&63]+s[128|o>>6&63]+s[128|o&63]}return c},m=function(r){for(var n=[{obj:{o:r},prop:"o"}],t=[],f=0;f<n.length;++f)for(var i=n[f],l=i.obj[i.prop],c=Object.keys(l),y=0;y<c.length;++y){var o=c[y],p=l[o];typeof p=="object"&&p!==null&&t.indexOf(p)===-1&&(n.push({obj:l,prop:o}),t.push(p))}return x(n),r},D=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},d=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},a=function(r,n){return[].concat(r,n)},u=function(r,n){if(g(r)){for(var t=[],f=0;f<r.length;f+=1)t.push(n(r[f]));return t}return n(r)};return q={arrayToObject:S,assign:w,combine:a,compact:m,decode:P,encode:F,isBuffer:d,isRegExp:D,maybeMap:u,merge:E},q}var z,W;function ee(){if(W)return z;W=1;var O=Z(),b=M(),g=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},x=Array.isArray,S=String.prototype.split,E=Array.prototype.push,w=function(u,e){E.apply(u,x(e)?e:[e])},P=Date.prototype.toISOString,F=b.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:O.encode,encodeValuesOnly:!1,format:F,formatter:b.formatters[F],indices:!1,serializeDate:function(e){return P.call(e)},skipNulls:!1,strictNullHandling:!1},D=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},d=function u(e,r,n,t,f,i,l,c,y,o,p,v,N,C){var h=e;if(typeof l=="function"?h=l(r,h):h instanceof Date?h=o(h):n==="comma"&&x(h)&&(h=O.maybeMap(h,function(T){return T instanceof Date?o(T):T})),h===null){if(t)return i&&!N?i(r,m.encoder,C,"key",p):r;h=""}if(D(h)||O.isBuffer(h)){if(i){var U=N?r:i(r,m.encoder,C,"key",p);if(n==="comma"&&N){for(var V=S.call(String(h),","),_="",R=0;R<V.length;++R)_+=(R===0?"":",")+v(i(V[R],m.encoder,C,"value",p));return[v(U)+"="+_]}return[v(U)+"="+v(i(h,m.encoder,C,"value",p))]}return[v(r)+"="+v(String(h))]}var L=[];if(typeof h>"u")return L;var A;if(n==="comma"&&x(h))A=[{value:h.length>0?h.join(",")||null:void 0}];else if(x(l))A=l;else{var k=Object.keys(h);A=c?k.sort(c):k}for(var Q=0;Q<A.length;++Q){var j=A[Q],K=typeof j=="object"&&typeof j.value<"u"?j.value:h[j];if(!(f&&K===null)){var J=x(h)?typeof n=="function"?n(r,j):r:r+(y?"."+j:"["+j+"]");w(L,u(K,J,n,t,f,i,l,c,y,o,p,v,N,C))}}return L},a=function(e){if(!e)return m;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=b.default;if(typeof e.format<"u"){if(!g.call(b.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var t=b.formatters[n],f=m.filter;return(typeof e.filter=="function"||x(e.filter))&&(f=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:m.addQueryPrefix,allowDots:typeof e.allowDots>"u"?m.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,delimiter:typeof e.delimiter>"u"?m.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:m.encode,encoder:typeof e.encoder=="function"?e.encoder:m.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:m.encodeValuesOnly,filter:f,format:n,formatter:t,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:m.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:m.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}};return z=function(u,e){var r=u,n=a(e),t,f;typeof n.filter=="function"?(f=n.filter,r=f("",r)):x(n.filter)&&(f=n.filter,t=f);var i=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in s?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=s[l];t||(t=Object.keys(r)),n.sort&&t.sort(n.sort);for(var y=0;y<t.length;++y){var o=t[y];n.skipNulls&&r[o]===null||w(i,d(r[o],o,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var p=i.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),p.length>0?v+p:""},z}var B,X;function re(){if(X)return B;X=1;var O=Z(),b=Object.prototype.hasOwnProperty,g=Array.isArray,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:O.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},x=function(d){return d.replace(/&#(\d+);/g,function(a,u){return String.fromCharCode(parseInt(u,10))})},S=function(d,a){return d&&typeof d=="string"&&a.comma&&d.indexOf(",")>-1?d.split(","):d},E="utf8=%26%2310003%3B",w="utf8=%E2%9C%93",P=function(a,u){var e={},r=u.ignoreQueryPrefix?a.replace(/^\?/,""):a,n=u.parameterLimit===1/0?void 0:u.parameterLimit,t=r.split(u.delimiter,n),f=-1,i,l=u.charset;if(u.charsetSentinel)for(i=0;i<t.length;++i)t[i].indexOf("utf8=")===0&&(t[i]===w?l="utf-8":t[i]===E&&(l="iso-8859-1"),f=i,i=t.length);for(i=0;i<t.length;++i)if(i!==f){var c=t[i],y=c.indexOf("]="),o=y===-1?c.indexOf("="):y+1,p,v;o===-1?(p=u.decoder(c,s.decoder,l,"key"),v=u.strictNullHandling?null:""):(p=u.decoder(c.slice(0,o),s.decoder,l,"key"),v=O.maybeMap(S(c.slice(o+1),u),function(N){return u.decoder(N,s.decoder,l,"value")})),v&&u.interpretNumericEntities&&l==="iso-8859-1"&&(v=x(v)),c.indexOf("[]=")>-1&&(v=g(v)?[v]:v),b.call(e,p)?e[p]=O.combine(e[p],v):e[p]=v}return e},F=function(d,a,u,e){for(var r=e?a:S(a,u),n=d.length-1;n>=0;--n){var t,f=d[n];if(f==="[]"&&u.parseArrays)t=[].concat(r);else{t=u.plainObjects?Object.create(null):{};var i=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,l=parseInt(i,10);!u.parseArrays&&i===""?t={0:r}:!isNaN(l)&&f!==i&&String(l)===i&&l>=0&&u.parseArrays&&l<=u.arrayLimit?(t=[],t[l]=r):i!=="__proto__"&&(t[i]=r)}r=t}return r},m=function(a,u,e,r){if(a){var n=e.allowDots?a.replace(/\.([^.[]+)/g,"[$1]"):a,t=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,i=e.depth>0&&t.exec(n),l=i?n.slice(0,i.index):n,c=[];if(l){if(!e.plainObjects&&b.call(Object.prototype,l)&&!e.allowPrototypes)return;c.push(l)}for(var y=0;e.depth>0&&(i=f.exec(n))!==null&&y<e.depth;){if(y+=1,!e.plainObjects&&b.call(Object.prototype,i[1].slice(1,-1))&&!e.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+n.slice(i.index)+"]"),F(c,u,e,r)}},D=function(a){if(!a)return s;if(a.decoder!==null&&a.decoder!==void 0&&typeof a.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof a.charset<"u"&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var u=typeof a.charset>"u"?s.charset:a.charset;return{allowDots:typeof a.allowDots>"u"?s.allowDots:!!a.allowDots,allowPrototypes:typeof a.allowPrototypes=="boolean"?a.allowPrototypes:s.allowPrototypes,arrayLimit:typeof a.arrayLimit=="number"?a.arrayLimit:s.arrayLimit,charset:u,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:s.charsetSentinel,comma:typeof a.comma=="boolean"?a.comma:s.comma,decoder:typeof a.decoder=="function"?a.decoder:s.decoder,delimiter:typeof a.delimiter=="string"||O.isRegExp(a.delimiter)?a.delimiter:s.delimiter,depth:typeof a.depth=="number"||a.depth===!1?+a.depth:s.depth,ignoreQueryPrefix:a.ignoreQueryPrefix===!0,interpretNumericEntities:typeof a.interpretNumericEntities=="boolean"?a.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof a.parameterLimit=="number"?a.parameterLimit:s.parameterLimit,parseArrays:a.parseArrays!==!1,plainObjects:typeof a.plainObjects=="boolean"?a.plainObjects:s.plainObjects,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:s.strictNullHandling}};return B=function(d,a){var u=D(a);if(d===""||d===null||typeof d>"u")return u.plainObjects?Object.create(null):{};for(var e=typeof d=="string"?P(d,u):d,r=u.plainObjects?Object.create(null):{},n=Object.keys(e),t=0;t<n.length;++t){var f=n[t],i=m(f,e[f],u,typeof d=="string");r=O.merge(r,i,u)}return O.compact(r)},B}var I,Y;function ne(){if(Y)return I;Y=1;var O=ee(),b=re(),g=M();return I={formats:g,parse:b,stringify:O},I}var te=ne();export{te as l};
